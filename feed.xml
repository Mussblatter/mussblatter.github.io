<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="fr"><generator uri="https://jekyllrb.com/" version="4.0.0">Jekyll</generator><link href="https://blackdrop.fr/feed.xml" rel="self" type="application/atom+xml" /><link href="https://blackdrop.fr/" rel="alternate" type="text/html" hreflang="fr" /><updated>2020-04-04T08:53:51+02:00</updated><id>https://blackdrop.fr/feed.xml</id><title type="html">The Blackdrop Diary</title><subtitle>Mouahahahah !!!
</subtitle><author><name>Sam</name></author><entry><title type="html">RFM69</title><link href="https://blackdrop.fr/2020/04/03/rfm69.html" rel="alternate" type="text/html" title="RFM69" /><published>2020-04-03T14:03:00+02:00</published><updated>2020-04-03T14:03:00+02:00</updated><id>https://blackdrop.fr/2020/04/03/rfm69</id><content type="html" xml:base="https://blackdrop.fr/2020/04/03/rfm69.html">&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/pinout.jpg&quot; alt=&quot;pinout&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Pinout RFM69HCW
&lt;img src=&quot;/assets/images/2020/04/pinout-rfm69hcw.jpg&quot; alt=&quot;pinout_rfm69HCW&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;</content><author><name>Sam</name></author><category term="divers" /><summary type="html">Pinout RFM69HCW</summary></entry><entry><title type="html">Clafoutis</title><link href="https://blackdrop.fr/2020/03/24/clafoutis.html" rel="alternate" type="text/html" title="Clafoutis" /><published>2020-03-24T00:00:00+01:00</published><updated>2020-03-24T00:00:00+01:00</updated><id>https://blackdrop.fr/2020/03/24/clafoutis</id><content type="html" xml:base="https://blackdrop.fr/2020/03/24/clafoutis.html">&lt;p&gt;&lt;strong&gt;Préparation : 10 min&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Cuisson : 25 min&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Ingrédients&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;100 g de farine&lt;/li&gt;
  &lt;li&gt;100 g de sucre&lt;/li&gt;
  &lt;li&gt;35 g de beurre fondu&lt;/li&gt;
  &lt;li&gt;500 g de fraises&lt;/li&gt;
  &lt;li&gt;2 sachets de sucre vanillé&lt;/li&gt;
  &lt;li&gt;30 cl de lait écrémé&lt;/li&gt;
  &lt;li&gt;4 oeufs&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Préparation&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Préchauffez le four à th.7 (200°C).&lt;/li&gt;
  &lt;li&gt;Battez les oeufs et le sucre ensemble.&lt;/li&gt;
  &lt;li&gt;Incorporez la farine, puis le beurre fondu et le lait.&lt;/li&gt;
  &lt;li&gt;Mélangez-bien pour obtenir une pâte bien lisse et fluide.&lt;/li&gt;
  &lt;li&gt;Beurrez un moule, déposez-y les fraises coupées en morceaux.&lt;/li&gt;
  &lt;li&gt;Versez la pâte à clafoutis sur les fraises. Saupoudrez le dessus avec le sucre vanillé.&lt;/li&gt;
  &lt;li&gt;Faites cuire pendant 20 à 30 min. Retirez du four, lorsque le dessus est doré.&lt;/li&gt;
&lt;/ol&gt;</content><author><name>Sam</name></author><category term="Recettes" /><summary type="html">Préparation : 10 min Cuisson : 25 min Ingrédients 100 g de farine 100 g de sucre 35 g de beurre fondu 500 g de fraises 2 sachets de sucre vanillé 30 cl de lait écrémé 4 oeufs Préparation Préchauffez le four à th.7 (200°C). Battez les oeufs et le sucre ensemble. Incorporez la farine, puis le beurre fondu et le lait. Mélangez-bien pour obtenir une pâte bien lisse et fluide. Beurrez un moule, déposez-y les fraises coupées en morceaux. Versez la pâte à clafoutis sur les fraises. Saupoudrez le dessus avec le sucre vanillé. Faites cuire pendant 20 à 30 min. Retirez du four, lorsque le dessus est doré.</summary></entry><entry><title type="html">Muffins Healthy</title><link href="https://blackdrop.fr/2020/03/24/muffins-healthy.html" rel="alternate" type="text/html" title="Muffins Healthy" /><published>2020-03-24T00:00:00+01:00</published><updated>2020-03-24T00:00:00+01:00</updated><id>https://blackdrop.fr/2020/03/24/muffins-healthy</id><content type="html" xml:base="https://blackdrop.fr/2020/03/24/muffins-healthy.html">&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/muffins.jpg&quot; alt=&quot;muffins&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Préparation : 10 min&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Cuisson : 25 min&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Ingrédients&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;200 g de farine&lt;/li&gt;
  &lt;li&gt;50 g de sirop d’agave&lt;/li&gt;
  &lt;li&gt;Une grosse c.a.s de beurre de coco&lt;/li&gt;
  &lt;li&gt;Un sachet de levure chimique&lt;/li&gt;
  &lt;li&gt;3/4 pommes ou 3 bananes&lt;/li&gt;
  &lt;li&gt;3 oeufs&lt;/li&gt;
  &lt;li&gt;Des graines de chia ou ce que vous avez&lt;/li&gt;
  &lt;li&gt;Des pépites de chocolats&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Préparation&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Préchauffer le four à th.7 (200°C).&lt;/li&gt;
  &lt;li&gt;Tout mixer.&lt;/li&gt;
  &lt;li&gt;Cuire 25min&lt;/li&gt;
&lt;/ol&gt;</content><author><name>Sam</name></author><category term="Recettes" /><summary type="html">Préparation : 10 min Cuisson : 25 min Ingrédients 200 g de farine 50 g de sirop d’agave Une grosse c.a.s de beurre de coco Un sachet de levure chimique 3/4 pommes ou 3 bananes 3 oeufs Des graines de chia ou ce que vous avez Des pépites de chocolats Préparation Préchauffer le four à th.7 (200°C). Tout mixer. Cuire 25min</summary></entry><entry><title type="html">Attiny85</title><link href="https://blackdrop.fr/2020/03/22/attiny85.html" rel="alternate" type="text/html" title="Attiny85" /><published>2020-03-22T19:35:00+01:00</published><updated>2020-03-22T19:35:00+01:00</updated><id>https://blackdrop.fr/2020/03/22/attiny85</id><content type="html" xml:base="https://blackdrop.fr/2020/03/22/attiny85.html">&lt;h3 id=&quot;pinouts&quot;&gt;Pinouts&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/attiny-pinout.jpg&quot; alt=&quot;attiny_pinout&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/attiny85-pinout.jpg&quot; alt=&quot;attiny85_pinout&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;programmer-via-usbtinyisp&quot;&gt;Programmer via USBTinyISP&lt;/h2&gt;

&lt;p&gt;Je me suis fabriqué un petit circuit pour faciliter la programmation des attiny85 via l’USBTinyISP :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/programmer-usbtinyisp.jpg&quot; alt=&quot;programmer_usbtinyisp&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;p&gt;J’utilise PlatformIO sur Visual Code Studio.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;platformio.ini&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;attiny85&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;platform = atmelavr&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;board = attiny85&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;framework = arduino&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;upload_protocol = usbtiny&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;main.cpp&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#include &amp;lt;Arduino.h&amp;gt;

#define PIN_POTAR A1
#define PIN_PWM 0
#define PIN_LED 1


void setup() {
  pinMode(PIN_POTAR, INPUT);
  pinMode(PIN_PWM, OUTPUT);
  pinMode(PIN_LED, OUTPUT);

}

void loop() {
  long potar = analogRead(PIN_POTAR);
  long pwm = map(potar, 0, 1023, 0, 255);
  analogWrite(PIN_PWM, pwm);
  analogWrite(PIN_LED, pwm);
  delay(100);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y’a plus qu’à compiler et uploader :)&lt;/p&gt;

&lt;h2 id=&quot;controleur-de-pompe-pour-mon-van&quot;&gt;Controleur de pompe pour mon Van&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/attiny85-pump-controller.jpg&quot; alt=&quot;attiny85_pump_controller&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;</content><author><name>Sam</name></author><category term="divers" /><summary type="html">Pinouts Programmer via USBTinyISP Je me suis fabriqué un petit circuit pour faciliter la programmation des attiny85 via l’USBTinyISP : J’utilise PlatformIO sur Visual Code Studio. platformio.ini [env:attiny85] platform = atmelavr board = attiny85 framework = arduino upload_protocol = usbtiny main.cpp #include &amp;lt;Arduino.h&amp;gt; #define PIN_POTAR A1 #define PIN_PWM 0 #define PIN_LED 1 void setup() { pinMode(PIN_POTAR, INPUT); pinMode(PIN_PWM, OUTPUT); pinMode(PIN_LED, OUTPUT); } void loop() { long potar = analogRead(PIN_POTAR); long pwm = map(potar, 0, 1023, 0, 255); analogWrite(PIN_PWM, pwm); analogWrite(PIN_LED, pwm); delay(100); } Y’a plus qu’à compiler et uploader :) Controleur de pompe pour mon Van</summary></entry><entry><title type="html">Antitartre</title><link href="https://blackdrop.fr/2020/03/22/antitartre.html" rel="alternate" type="text/html" title="Antitartre" /><published>2020-03-22T19:35:00+01:00</published><updated>2020-03-22T19:35:00+01:00</updated><id>https://blackdrop.fr/2020/03/22/antitartre</id><content type="html" xml:base="https://blackdrop.fr/2020/03/22/antitartre.html">&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/antitartre.jpg&quot; alt=&quot;antitartre&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Je me suis basé sur le circuit de &lt;a href=&quot;https://sonelec-musique.com/electronique_realisations_anti_tartre_001.html&quot;&gt;sonelec&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;J’ai pris un transitor SD1616A. Le tout c’est d’avoir un &lt;code class=&quot;highlighter-rouge&quot;&gt;Vce &amp;gt; 50V&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;programme&quot;&gt;Programme&lt;/h3&gt;

&lt;p&gt;J’utilise PlatformIO sur Visual Code Studio avec Arduino Pro Mini 3.3V (Overkill mais c’est ce que j’avais sous main ^^).&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;platformio.ini&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;pro8MHzatmega328&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;platform = atmelavr&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;board = pro8MHzatmega328&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;framework = arduino&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;main.cpp&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;Arduino.h&amp;gt;
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define PIN_LED 13
&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;pinMode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PIN_LED&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OUTPUT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;tone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;digitalWrite&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PIN_LED&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HIGH&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;digitalWrite&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PIN_LED&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LOW&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;    
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y’a plus qu’à compiler et uploader :)&lt;/p&gt;

&lt;h3 id=&quot;installation&quot;&gt;Installation&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/antitartre-1.jpg&quot; alt=&quot;antitartre-1&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;oscilloscope&quot;&gt;Oscilloscope&lt;/h3&gt;

&lt;div&gt;&lt;div class=&quot;extensions extensions--video&quot;&gt;
  &lt;iframe src=&quot;https://www.youtube.com/embed/hL4pks-VfOk?rel=0&amp;amp;showinfo=0&quot; frameborder=&quot;0&quot; scrolling=&quot;no&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;</content><author><name>Sam</name></author><category term="electronique" /><summary type="html">Je me suis basé sur le circuit de sonelec. J’ai pris un transitor SD1616A. Le tout c’est d’avoir un Vce &amp;gt; 50V. Programme J’utilise PlatformIO sur Visual Code Studio avec Arduino Pro Mini 3.3V (Overkill mais c’est ce que j’avais sous main ^^). platformio.ini [env:pro8MHzatmega328] platform = atmelavr board = pro8MHzatmega328 framework = arduino main.cpp #include &amp;lt;Arduino.h&amp;gt; #define PIN_LED 13 const int freq[4] = {1000, 2000, 5000, 10000}; void setup() { pinMode(PIN_LED, OUTPUT); } void loop() { for (int i = 0; i &amp;lt; 4; i++) { tone(11, freq[i]); digitalWrite(PIN_LED, HIGH); delay(500); digitalWrite(PIN_LED, LOW); delay(500); } } Y’a plus qu’à compiler et uploader :) Installation Oscilloscope</summary></entry><entry><title type="html">Climatiseur</title><link href="https://blackdrop.fr/2020/03/22/climatiseur.html" rel="alternate" type="text/html" title="Climatiseur" /><published>2020-03-22T14:21:00+01:00</published><updated>2020-03-22T14:21:00+01:00</updated><id>https://blackdrop.fr/2020/03/22/climatiseur</id><content type="html" xml:base="https://blackdrop.fr/2020/03/22/climatiseur.html">&lt;h2 id=&quot;climatiseur-diy-sur-un-ventilateur&quot;&gt;Climatiseur DIY sur un ventilateur&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/clim-ventilo.jpg&quot; alt=&quot;clim_ventilo&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Composants :&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Nom&lt;/th&gt;
      &lt;th&gt;Prix&lt;/th&gt;
      &lt;th&gt;Quantité&lt;/th&gt;
      &lt;th&gt;Lien&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Ventilateur en 12V ou 230V&lt;/td&gt;
      &lt;td&gt;0€&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;magasin divers&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Tuyaux en cuivre de 6mm 1m&lt;/td&gt;
      &lt;td&gt;5€&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;casto&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Une petite pompe&lt;/td&gt;
      &lt;td&gt;3€&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;aliexpress&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Une glacière&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Basiquement, il faut enrouler le tube en cuivre en serpentin devant le ventilateur puis faire passer de l’eau froide de la glacière dans le tube.&lt;/p&gt;

&lt;h1 id=&quot;climatiseur-thermoélectrique&quot;&gt;Climatiseur thermoélectrique&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/clim-thermo.jpg&quot; alt=&quot;clim_thermo&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Composants :&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Nom&lt;/th&gt;
      &lt;th&gt;Prix&lt;/th&gt;
      &lt;th&gt;Quantité&lt;/th&gt;
      &lt;th&gt;Lien&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Module peltier&lt;/td&gt;
      &lt;td&gt;10€&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;aliexpress&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Radiateur avec ventilateur de pc silencieux&lt;/td&gt;
      &lt;td&gt;10€&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;aliexpress&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</content><author><name>Sam</name></author><category term="DIY" /><category term="Van" /><summary type="html">Climatiseur DIY sur un ventilateur Composants : Nom Prix Quantité Lien Ventilateur en 12V ou 230V 0€ 1 magasin divers Tuyaux en cuivre de 6mm 1m 5€ 1 casto Une petite pompe 3€ 1 aliexpress Une glacière       Basiquement, il faut enrouler le tube en cuivre en serpentin devant le ventilateur puis faire passer de l’eau froide de la glacière dans le tube. Climatiseur thermoélectrique Composants : Nom Prix Quantité Lien Module peltier 10€ 1 aliexpress Radiateur avec ventilateur de pc silencieux 10€ 2 aliexpress</summary></entry><entry><title type="html">ESP8266</title><link href="https://blackdrop.fr/2020/03/21/esp8266.html" rel="alternate" type="text/html" title="ESP8266" /><published>2020-03-21T11:38:00+01:00</published><updated>2020-03-21T11:38:00+01:00</updated><id>https://blackdrop.fr/2020/03/21/esp8266</id><content type="html" xml:base="https://blackdrop.fr/2020/03/21/esp8266.html">&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/esp8266.jpg&quot; alt=&quot;Node MCU&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;wemos-d1-mini&quot;&gt;Wemos D1 Mini&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/wemosd1mini.jpg&quot; alt=&quot;wemosd1mini&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;node-mcu-v2&quot;&gt;Node MCU V2&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/nodemcu-pinout.jpg&quot; alt=&quot;nodemcu-pinout&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;boot-mode&quot;&gt;Boot Mode&lt;/h2&gt;
&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Monitor&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;74880&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;boot&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spi&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mode&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SPI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;boot&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spi&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mode&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UART&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;reset&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;causes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;normal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boot&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;reset&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pin&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;software&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;reset&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;watchdog&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;reset&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;boot&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;device&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ram&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flash&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;The&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Espressif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;code&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;can&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boot&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;different&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;modes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;selected&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;power&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;up&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;based&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GPIO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pin&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;levels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MTDO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;equivalent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GPIO15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;MTDO&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;GPIO0&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;GPIO2&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;Mode&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;Description&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;L&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;L&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;H&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;UART&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;Download&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;code&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UART&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;L&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;H&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;H&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;Flash&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;Boot&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SPI&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Flash&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;H&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;SDIO&lt;/span&gt; 	&lt;span class=&quot;n&quot;&gt;Boot&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SD&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;card&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bootup&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;boot&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;three&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;low&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bits&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;are&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MTDO&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GPIO0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GPIO2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Sam</name></author><category term="ESP8266" /><summary type="html">Wemos D1 Mini Node MCU V2 Boot Mode Monitor port = 74880 boot spi mode from SPI: 7,7 boot spi mode from UART: 5,7 reset causes: 0: 1: normal boot 2: reset pin 3: software reset 4: watchdog reset boot device: 0: 1: ram 3: flash The Espressif code can boot in different modes, selected on power-up based on GPIO pin levels. (MTDO is equivalent to GPIO15). MTDO GPIO0 GPIO2 Mode Description L L H UART Download code from UART L H H Flash Boot from SPI Flash H x x SDIO Boot from SD-card In the bootup message 'boot mode:(x,y)' three low bits of x are {MTDO, GPIO0, GPIO2}.</summary></entry><entry><title type="html">Home Assistant</title><link href="https://blackdrop.fr/2020/03/17/home-assistant.html" rel="alternate" type="text/html" title="Home Assistant" /><published>2020-03-17T20:13:00+01:00</published><updated>2020-03-17T20:13:00+01:00</updated><id>https://blackdrop.fr/2020/03/17/home-assistant</id><content type="html" xml:base="https://blackdrop.fr/2020/03/17/home-assistant.html">&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/ha.jpg&quot; alt=&quot;ha&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.home-assistant.io/getting-started/&quot;&gt;Home Assistant&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;raspberry-pi&quot;&gt;Raspberry Pi&lt;/h2&gt;

&lt;p&gt;Modèle : Raspberri Pi 3 Model B+ 64bits&lt;/p&gt;

&lt;p&gt;Graver avec &lt;a href=&quot;https://www.balena.io/etcher/&quot;&gt;BelenaEtcher&lt;/a&gt; HA sur une carte micro SD de plus de 16Go : &lt;a href=&quot;https://www.home-assistant.io/hassio/installation/&quot;&gt;image&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Ajouter l’addon &lt;a href=&quot;https://esphome.io/&quot;&gt;ESPHome&lt;/a&gt;, File Editor et MQTT Mosquitto.&lt;/p&gt;

&lt;h3 id=&quot;nodemcu-avec-un-dht22&quot;&gt;NodeMCU avec un DHT22&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Pour flasher la première fois le NodeMCU v3, il faut rester appuyer sur le bouton FLASH puis appuyer sur RESET une fois pour entrer en mode bootloader.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;del&gt;Utiliser &lt;a href=&quot;https://github.com/marcelstoer/nodemcu-pyflasher&quot;&gt;PyFlasher&lt;/a&gt; pour uploader le firmware de ESPHome.&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;Utiliser Visual Studio Code avec PlatformIO.&lt;/p&gt;

&lt;p&gt;Code :&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cm&quot;&gt;/*
  @name : nodemcu_dht_mqtt
  @date : 18/03/2020
  @author : Samuel Goutenoir
  @link : https://blackdrop.fr/
  @description: NodeMCU v2 + DHT22 + MQTT + HomeAssistant + DeepSleep
*/&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;Arduino.h&amp;gt;
#include &amp;lt;ESP8266WiFi.h&amp;gt;
#include &amp;lt;PubSubClient.h&amp;gt;
#include &amp;lt;DHT.h&amp;gt;
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define wifi_ssid &quot;nom_reseau_wifi&quot;
#define wifi_password &quot;mot_de_passe_wifi&quot;
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define mqtt_server &quot;192.168.1.000&quot; // Home Assistant url
#define mqtt_user &quot;MQTT&quot;  //user HomeAssistant
#define mqtt_password &quot;mqtt&quot;
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define temperature_topic &quot;serre/temperature&quot;  //Topic température
#define humidity_topic &quot;serre/humidite&quot;        //Topic humidité
&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;debug&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;c1&quot;&gt;//Affiche sur la console si True&lt;/span&gt;

&lt;span class=&quot;cp&quot;&gt;#define DHTPIN D2       // Pin sur lequel est branché le DHT
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define DHTTYPE DHT22   // DHT 22  (AM2302)
&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;DHT&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;dht&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DHTPIN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DHTTYPE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;WiFiClient&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;espClient&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;PubSubClient&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;espClient&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setup_wifi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;millis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Connexion a &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wifi_ssid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;WiFi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;begin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wifi_ssid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wifi_password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WiFi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WL_CONNECTED&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Connexion WiFi etablie &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;=&amp;gt; Addresse IP : &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WiFi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;localIP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;reconnect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;//Boucle jusqu'à obtenur une reconnexion&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connected&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Connexion au serveur MQTT...&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;NodeMCU&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mqtt_user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mqtt_password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;OK&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;KO, erreur : &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; On attend 5 secondes avant de recommencer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;now&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;millis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;begin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;115200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  
  &lt;span class=&quot;n&quot;&gt;setup_wifi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;           
  &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setServer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mqtt_server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1883&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;dht&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;begin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connected&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;reconnect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;//Lecture de l'humidité ambiante&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;h&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dht&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;readHumidity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// Lecture de la température en Celcius&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dht&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;readTemperature&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;//Inutile d'aller plus loin si le capteur ne renvoi rien&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isnan&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isnan&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Echec de lecture ! Verifiez votre capteur DHT&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;debug&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Temperature : &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; | Humidite : &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;publish&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temperature_topic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;//Publie la température sur le topic temperature_topic&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;publish&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;humidity_topic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;      &lt;span class=&quot;c1&quot;&gt;//Et l'humidité&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Delay important sinon la pub mqtt ne se fait pas avant que l'ESP parte en DeepSleep&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Serial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;millis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;ESP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deepSleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1e6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Côté HomeAssistant dans &lt;code class=&quot;highlighter-rouge&quot;&gt;configuration.yaml&lt;/code&gt; :&lt;/p&gt;
&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;sensor&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;platform&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;mqtt&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;state_topic&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;serre/temperature&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Température&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;de&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;la&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;serre&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;qos&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;unit_of_measurement&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;°C&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;unique_id&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;serre_temp&quot;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;#value_template: ''&lt;/span&gt;

  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;platform&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;mqtt&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;state_topic&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;serre/humidite&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Humidité&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;de&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;la&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;serre&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;qos&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;icon&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;humidity&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;unit_of_measurement&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;%&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;unique_id&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;serre_hum&quot;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;#value_template: ''&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;J’utilise l’addon MQTT Mosquitto.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/ha-graphs.jpg&quot; alt=&quot;HA-graphs&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;calculateur-dautonomie-sur-batterie&quot;&gt;Calculateur d’autonomie sur batterie&lt;/h2&gt;

&lt;p&gt;Vous pouvez utiliser mon tableur pour le &lt;a href=&quot;/assets/snippets/calcul_autonomie_batterie.ods&quot;&gt;calcul d’autonomie de batterie&lt;/a&gt; :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/calcul-autonomie.jpg&quot; alt=&quot;calcul autonomie&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;</content><author><name>Sam</name></author><category term="Domotique" /><category term="ESP8266" /><summary type="html">Home Assistant Raspberry Pi Modèle : Raspberri Pi 3 Model B+ 64bits Graver avec BelenaEtcher HA sur une carte micro SD de plus de 16Go : image Ajouter l’addon ESPHome, File Editor et MQTT Mosquitto. NodeMCU avec un DHT22 Pour flasher la première fois le NodeMCU v3, il faut rester appuyer sur le bouton FLASH puis appuyer sur RESET une fois pour entrer en mode bootloader. Utiliser PyFlasher pour uploader le firmware de ESPHome. Utiliser Visual Studio Code avec PlatformIO. Code : /* @name : nodemcu_dht_mqtt @date : 18/03/2020 @author : Samuel Goutenoir @link : https://blackdrop.fr/ @description: NodeMCU v2 + DHT22 + MQTT + HomeAssistant + DeepSleep */ #include &amp;lt;Arduino.h&amp;gt; #include &amp;lt;ESP8266WiFi.h&amp;gt; #include &amp;lt;PubSubClient.h&amp;gt; #include &amp;lt;DHT.h&amp;gt; #define wifi_ssid &quot;nom_reseau_wifi&quot; #define wifi_password &quot;mot_de_passe_wifi&quot; #define mqtt_server &quot;192.168.1.000&quot; // Home Assistant url #define mqtt_user &quot;MQTT&quot; //user HomeAssistant #define mqtt_password &quot;mqtt&quot; #define temperature_topic &quot;serre/temperature&quot; //Topic température #define humidity_topic &quot;serre/humidite&quot; //Topic humidité bool debug = true; //Affiche sur la console si True #define DHTPIN D2 // Pin sur lequel est branché le DHT #define DHTTYPE DHT22 // DHT 22 (AM2302) DHT dht(DHTPIN, DHTTYPE); WiFiClient espClient; PubSubClient client(espClient); void setup_wifi() { delay(10); Serial.println(); Serial.println(millis()); Serial.print(&quot;Connexion a &quot;); Serial.println(wifi_ssid); WiFi.begin(wifi_ssid, wifi_password); while (WiFi.status() != WL_CONNECTED) { delay(500); Serial.print(&quot;.&quot;); } Serial.println(&quot;&quot;); Serial.println(&quot;Connexion WiFi etablie &quot;); Serial.print(&quot;=&amp;gt; Addresse IP : &quot;); Serial.println(WiFi.localIP()); } void reconnect() { //Boucle jusqu'à obtenur une reconnexion while (!client.connected()) { Serial.print(&quot;Connexion au serveur MQTT...&quot;); if (client.connect(&quot;NodeMCU&quot;, mqtt_user, mqtt_password)) { Serial.println(&quot;OK&quot;); } else { Serial.print(&quot;KO, erreur : &quot;); Serial.print(client.state()); Serial.println(&quot; On attend 5 secondes avant de recommencer&quot;); delay(5000); } } } void setup() { long now = millis(); Serial.begin(115200); setup_wifi(); client.setServer(mqtt_server, 1883); / dht.begin(); if (!client.connected()) { reconnect(); } //Lecture de l'humidité ambiante float h = dht.readHumidity(); // Lecture de la température en Celcius float t = dht.readTemperature(); //Inutile d'aller plus loin si le capteur ne renvoi rien if ( isnan(t) || isnan(h)) { Serial.println(&quot;Echec de lecture ! Verifiez votre capteur DHT&quot;); return; } if ( debug ) { Serial.print(&quot;Temperature : &quot;); Serial.print(t); Serial.print(&quot; | Humidite : &quot;); Serial.println(h); } client.publish(temperature_topic, String(t).c_str(), true); //Publie la température sur le topic temperature_topic client.publish(humidity_topic, String(h).c_str(), true); //Et l'humidité delay(1000); // Delay important sinon la pub mqtt ne se fait pas avant que l'ESP parte en DeepSleep Serial.println(millis()-now); ESP.deepSleep(10*60*1e6); } void loop() { } Côté HomeAssistant dans configuration.yaml : sensor: - platform: mqtt state_topic: &quot;serre/temperature&quot; name: &quot;Température de la serre&quot; qos: 0 unit_of_measurement: &quot;°C&quot; unique_id: &quot;serre_temp&quot; #value_template: '' - platform: mqtt state_topic: &quot;serre/humidite&quot; name: &quot;Humidité de la serre&quot; qos: 0 icon: humidity unit_of_measurement: &quot;%&quot; unique_id: &quot;serre_hum&quot; #value_template: '' J’utilise l’addon MQTT Mosquitto. Calculateur d’autonomie sur batterie Vous pouvez utiliser mon tableur pour le calcul d’autonomie de batterie :</summary></entry><entry><title type="html">NAS Synology</title><link href="https://blackdrop.fr/2020/03/08/nas-synology.html" rel="alternate" type="text/html" title="NAS Synology" /><published>2020-03-08T14:20:00+01:00</published><updated>2020-03-08T14:20:00+01:00</updated><id>https://blackdrop.fr/2020/03/08/nas-synology</id><content type="html" xml:base="https://blackdrop.fr/2020/03/08/nas-synology.html">&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/nas.jpg&quot; alt=&quot;nasyno&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Si Moments vous affiche des photos comme ceci :&lt;/p&gt;

&lt;p&gt;…&lt;/p&gt;

&lt;p&gt;Réindexer le tout.&lt;/p&gt;

&lt;h3 id=&quot;reverse-proxy&quot;&gt;Reverse Proxy&lt;/h3&gt;

&lt;h3 id=&quot;gitlab&quot;&gt;gitlab&lt;/h3&gt;

&lt;p&gt;Paquet basé sur le paquet officiel : &lt;a href=&quot;https://github.com/jboxberger/synology-gitlab&quot;&gt;Gitlab mis à jour&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Version de Gitlab plus légère écrite en GO : &lt;a href=&quot;https://gitea.io/en-us/&quot;&gt;Gitea&lt;/a&gt;&lt;/p&gt;</content><author><name>Sam</name></author><category term="Linux" /><summary type="html">Si Moments vous affiche des photos comme ceci : … Réindexer le tout. Reverse Proxy gitlab Paquet basé sur le paquet officiel : Gitlab mis à jour Version de Gitlab plus légère écrite en GO : Gitea</summary></entry><entry><title type="html">Linux Desktop</title><link href="https://blackdrop.fr/2020/03/06/linux-desktop.html" rel="alternate" type="text/html" title="Linux Desktop" /><published>2020-03-06T21:11:00+01:00</published><updated>2020-03-06T21:11:00+01:00</updated><id>https://blackdrop.fr/2020/03/06/linux-desktop</id><content type="html" xml:base="https://blackdrop.fr/2020/03/06/linux-desktop.html">&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/mint.jpg&quot; alt=&quot;linux-mint&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;tools&quot;&gt;Tools&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt install nemo-image-converter
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;polices&quot;&gt;Polices&lt;/h2&gt;

&lt;p&gt;apt-get install msttcorefonts&lt;/p&gt;

&lt;h2 id=&quot;libre-office&quot;&gt;Libre Office&lt;/h2&gt;

&lt;p&gt;Pour rendre Libre Office (6.4+) un peu plus joli, j’utilise les icônes de Microsoft Office, c’est une extension à installer avec le gestionnaire des extensions : &lt;a href=&quot;/assets/snippets/Office2013-theme-1.1.oxt&quot;&gt;pack icones&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Ensuite choisissez dans &lt;code class=&quot;highlighter-rouge&quot;&gt;Affichage-&amp;gt;Interface Utilisateur-&amp;gt;Onglets&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/libreoffice.jpg&quot; alt=&quot;LibreOffice&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Only Office est joli aussi mais il manque encore pas mal de choses.&lt;/p&gt;

&lt;h2 id=&quot;bitwarden&quot;&gt;Bitwarden&lt;/h2&gt;

&lt;p&gt;Gestionnaire de mot de passe crossplatforme open source.&lt;/p&gt;

&lt;h2 id=&quot;atom-pour-jekyll&quot;&gt;Atom pour Jekyll&lt;/h2&gt;

&lt;p&gt;Markdown &amp;amp; Jekyll support avec &lt;a href=&quot;https://atom.io/packages/markdown-writer&quot;&gt;Markdown Writer&lt;/a&gt; et &lt;a href=&quot;https://shd101wyy.github.io/markdown-preview-enhanced/#/&quot;&gt;Markdown Preview Editor&lt;/a&gt; :&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apm install tool-bar markdown-writer tool-bar-markdown-writer markdown-preview-enhanced dqs-shell-commands
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Rajouter dans les commandes :&lt;/p&gt;

&lt;div class=&quot;language-yml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;commands&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;upload-via-rsync&quot;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;rsync&quot;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;arguments&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;-azP&quot;&lt;/span&gt;
      &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;--delete&quot;&lt;/span&gt;
      &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/blog-jekyll/_site/&quot;&lt;/span&gt;
      &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;user@domain.fr:~/blog&quot;&lt;/span&gt;
    &lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;closeWhenFinished&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Rajouter à la toolbar :&lt;/p&gt;

&lt;div class=&quot;language-yml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;pi&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;icon'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;arrow-up'&lt;/span&gt;
  &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;tooltip'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Upload&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;via&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Rsync'&lt;/span&gt;
  &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;callback'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;dqs-shell-commands:upload-via-rsync'&lt;/span&gt;
&lt;span class=&quot;pi&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Modifier la compression des images du clipboard :&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;~/.atom/packages/markdown-writer/lib/views/insert-image-clipboard-view.coffee
&lt;/code&gt;
Ligne 63 :&lt;/p&gt;

&lt;div class=&quot;language-coffee highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;writeFileSync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;destFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;clipboardImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toJPEG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;et ligne 158 :&lt;/p&gt;

&lt;div class=&quot;language-coffee highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;.jpg&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;visual-studio-code-with-platform-io&quot;&gt;Visual Studio Code with Platform IO&lt;/h2&gt;

&lt;p&gt;Pour programmer les arduinos, esp8266, nodemcu,… J’utilise Visual Studio Code avec l’extension PlatformIO.&lt;/p&gt;

&lt;h2 id=&quot;ruby--rvm&quot;&gt;Ruby &amp;amp; RVM&lt;/h2&gt;

&lt;p&gt;Afin de gérer Ruby plus facilement, il faut utiliser &lt;a href=&quot;https://rvm.io/&quot;&gt;RVM&lt;/a&gt; :&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt-get install gnupg2 &amp;amp;&amp;amp;
gpg2 --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB
\curl -sSL https://get.rvm.io | bash -s stable
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Penser à aller dans les &lt;code class=&quot;highlighter-rouge&quot;&gt;Editions-&amp;gt;Préférences-&amp;gt;(Onglet)Commandes&lt;/code&gt; du Terminal et cliquer la boxe &lt;em&gt;Lancer la commande en tant que Shell de connexion&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rvm install 2.7
rvm use --default 2.7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;jekyll&quot;&gt;Jekyll&lt;/h2&gt;

&lt;p&gt;Aller voir le site : &lt;a href=&quot;https://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install bundler jekyll
jekyll new blog-jekyll
cd blog-jekyll
bundle exec jekyll serve
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Voilà le dossier blog-jekyll :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/tree-of-life.png&quot; alt=&quot;Tree of life&quot; class=&quot;rounded&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Transfert avec rsync au serveur :&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;dir1&lt;/code&gt; représente le dossier &lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt; de jekyll&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rsync -azP --delete /dir1/ user@domain.fr:~/dir2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;trimage&quot;&gt;Trimage&lt;/h3&gt;

&lt;p&gt;J’utilise &lt;a href=&quot;https://trimage.org/&quot;&gt;Trimage&lt;/a&gt; pour compresser toutes mes images.&lt;/p&gt;

&lt;h3 id=&quot;workflow-pour-les-images-de-couverture-et-thumbnail&quot;&gt;Workflow pour les images de couverture et thumbnail&lt;/h3&gt;

&lt;p&gt;Je prends un screenshot, je l’enregistre dans un dossier &lt;code class=&quot;highlighter-rouge&quot;&gt;Images&lt;/code&gt; Puis j’utilise un petit script python &lt;a href=&quot;/assets/snippets/cropall.py&quot;&gt;cropall.py&lt;/a&gt; pour cropper mes images avec un ratio prédéfini, les compresser en jpg et créer un thumbnail automatiquement.&lt;/p&gt;

&lt;h2 id=&quot;installer-des-clés-ssh&quot;&gt;Installer des clés SSH&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ssh-keygen
ssh-copy-id user@domain.fr
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;enlever l’authentification par mot de passe :&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo vim /etc/ssh/sshd_config ##
...
PasswordAuthentication no
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;mail&quot;&gt;Mail&lt;/h2&gt;

&lt;p&gt;Evolution (Linux)
emClient (Windows)&lt;/p&gt;

&lt;h2 id=&quot;chat&quot;&gt;Chat&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://about.riot.im/features&quot;&gt;Riot&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;monter-un-hdd-interne-en-ntfs&quot;&gt;Monter un HDD interne en NTFS&lt;/h2&gt;

&lt;p&gt;point de montage : &lt;code class=&quot;highlighter-rouge&quot;&gt;/data&lt;/code&gt;
user : &lt;code class=&quot;highlighter-rouge&quot;&gt;sam&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Créer un dossier &lt;code class=&quot;highlighter-rouge&quot;&gt;/data&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo mkdir /data
sudo chown sam:sam /data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Puis dans &lt;code class=&quot;highlighter-rouge&quot;&gt;Disques-&amp;gt;Selectionner votre partition-&amp;gt;Options de montage&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/03/option.png&quot; alt=&quot;option&quot; class=&quot;rounded centered&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Mettre dans les options :&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;auto,exec,uid=1000,gid=1000,umask=002,codepage=850,nodev,nofail,x-gvfs-show
&lt;/code&gt;&lt;/p&gt;</content><author><name>Sam</name></author><category term="Linux" /><summary type="html">Tools sudo apt install nemo-image-converter Polices apt-get install msttcorefonts Libre Office Pour rendre Libre Office (6.4+) un peu plus joli, j’utilise les icônes de Microsoft Office, c’est une extension à installer avec le gestionnaire des extensions : pack icones Ensuite choisissez dans Affichage-&amp;gt;Interface Utilisateur-&amp;gt;Onglets Only Office est joli aussi mais il manque encore pas mal de choses. Bitwarden Gestionnaire de mot de passe crossplatforme open source. Atom pour Jekyll Markdown &amp;amp; Jekyll support avec Markdown Writer et Markdown Preview Editor : apm install tool-bar markdown-writer tool-bar-markdown-writer markdown-preview-enhanced dqs-shell-commands Rajouter dans les commandes : commands: [ { name: &quot;upload-via-rsync&quot; command: &quot;rsync&quot; arguments: [ &quot;-azP&quot; &quot;--delete&quot; &quot;/blog-jekyll/_site/&quot; &quot;user@domain.fr:~/blog&quot; ] options: closeWhenFinished: true } ] Rajouter à la toolbar : { 'icon': 'arrow-up' 'tooltip': 'Upload via Rsync' 'callback': 'dqs-shell-commands:upload-via-rsync' } Modifier la compression des images du clipboard : ~/.atom/packages/markdown-writer/lib/views/insert-image-clipboard-view.coffee Ligne 63 : fs.writeFileSync(destFile, @clipboardImage.toJPEG(80)) et ligne 158 : extension = &quot;.jpg&quot; Visual Studio Code with Platform IO Pour programmer les arduinos, esp8266, nodemcu,… J’utilise Visual Studio Code avec l’extension PlatformIO. Ruby &amp;amp; RVM Afin de gérer Ruby plus facilement, il faut utiliser RVM : sudo apt-get install gnupg2 &amp;amp;&amp;amp; gpg2 --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB \curl -sSL https://get.rvm.io | bash -s stable Penser à aller dans les Editions-&amp;gt;Préférences-&amp;gt;(Onglet)Commandes du Terminal et cliquer la boxe Lancer la commande en tant que Shell de connexion rvm install 2.7 rvm use --default 2.7 Jekyll Aller voir le site : Jekyll gem install bundler jekyll jekyll new blog-jekyll cd blog-jekyll bundle exec jekyll serve Voilà le dossier blog-jekyll : Transfert avec rsync au serveur : dir1 représente le dossier _site de jekyll rsync -azP --delete /dir1/ user@domain.fr:~/dir2 Trimage J’utilise Trimage pour compresser toutes mes images. Workflow pour les images de couverture et thumbnail Je prends un screenshot, je l’enregistre dans un dossier Images Puis j’utilise un petit script python cropall.py pour cropper mes images avec un ratio prédéfini, les compresser en jpg et créer un thumbnail automatiquement. Installer des clés SSH ssh-keygen ssh-copy-id user@domain.fr enlever l’authentification par mot de passe : sudo vim /etc/ssh/sshd_config ## ... PasswordAuthentication no ... Mail Evolution (Linux) emClient (Windows) Chat Riot Monter un HDD interne en NTFS point de montage : /data user : sam Créer un dossier /data sudo mkdir /data sudo chown sam:sam /data Puis dans Disques-&amp;gt;Selectionner votre partition-&amp;gt;Options de montage Mettre dans les options : auto,exec,uid=1000,gid=1000,umask=002,codepage=850,nodev,nofail,x-gvfs-show</summary></entry></feed>